<?xml version="1.0" encoding="UTF-8"?>

<component type="desktop-application">
  <id>org._3fz.mtoc</id>
  <launchable type="desktop-id">org._3fz.mtoc.desktop</launchable>
  <name>Mtoc</name>
  <summary>Visual music library</summary>

  <developer id="org._3fz">
    <name>Asa DeGroff</name>
  </developer>
  <update_contact>asa@3fz.org</update_contact>

  <description>
    <p>Mtoc is a visually-rich music player and library browser that emphasizes a smooth, continuous experience with album artwork at the forefront.</p>
    <ul>
      <li>Animated, visual browsing made for music fans who enjoy flipping through albums</li>
      <li>Library browsing with smart organization and responsive search</li>
      <li>Wide mode places full-size album art in the right pane; compact mode optimizes density for smaller widths</li>
      <li>Advanced queue management with library context menus and drag-and-drop reordering</li>
      <li>Save playlists from your queue, manage M3U files, and use the intuitive playlist editor</li>
      <li>Light and dark modes with tinted blurred backgrounds</li>
      <li>Desktop integration with full MPRIS 2 support</li>
    </ul>
  </description>

  <screenshots>
    <screenshot type="default">
      <caption>Main window showing compact layout in light mode</caption>
      <image>https://github.com/asa-degroff/mtoc/raw/75a68abbbf2ccba72bb5ec4a16a2f6e844effc5b/resources/banner/main-screenshot-compact-light.png</image>
    </screenshot>
    <screenshot>
      <caption>Main window showing compact layout in dark mode</caption>
      <image>https://github.com/asa-degroff/raw/raw/75a68abbbf2ccba72bb5ec4a16a2f6e844effc5b/resources/banner/main-screenshot-compact-dark.png</image>
    </screenshot>
    <screenshot>
      <caption>Main window showing wide layout in light mode</caption>
      <image>https://github.com/asa-degroff/mtoc/raw/75a68abbbf2ccba72bb5ec4a16a2f6e844effc5b/resources/banner/main-screenshot-wide-light.png</image>
    </screenshot>
    <screenshot>
      <caption>Mini player</caption>
      <image>https://github.com/asa-degroff/mtoc/raw/75a68abbbf2ccba72bb5ec4a16a2f6e844effc5b/resources/banner/mini-player-horizontal.png</image>
    </screenshot>
    <screenshot>
      <caption>Queue list</caption>
      <image>https://github.com/asa-degroff/mtoc/raw/75a68abbbf2ccba72bb5ec4a16a2f6e844effc5b/resources/banner/queue-compact-light.png</image>
    </screenshot>
  </screenshots>

  <branding>
    <color type="primary" scheme_preference="light">#d1bdff</color>
    <color type="primary" scheme_preference="dark">#392a5a</color>
  </branding>

  <metadata_license>CC0-1.0</metadata_license>
  <project_license>GPL-3.0+</project_license>

  <url type="homepage">https://mtoc.3fz.org</url>
  <url type="bugtracker">https://github.com/asa-degroff/mtoc/issues</url>
  <url type="vcs-browser">https://github.com/asa-degroff/mtoc</url>
  <content_rating type="oars-1.1" />

  <recommends>
    <control>keyboard</control>
    <control>pointing</control>
  </recommends>

  <releases>

    <release version="2.2.3" date="2025-08-27">
      <description>
        <p>Thumbnail size options, improved thumbnail loading performance, audio engine settings bug fixes, UI polish</p>
        <ul>
          <li>Added thumbnail size selector with options for 100%, 150%, and 200%, offering a choice between reduced memory usage or higher visual quality</li>
          <li>Added the option to rebuild thumbnails from the settings window</li>
          <li>Clicking an album  in the carousel now scrolls to and selects that album in the artists list for improved bidirectional continuity between the two album browsing interfaces</li>
          <li>Thumbnail cache optimizations for performance</li>
          <li>Improved programmatic scrolling in the artists list is now smoother and more predictable</li>
          <li>Asynchronous loading of grid views in the artists list loads thumbnails without blocking list height and position calculations for faster performance and smoother scrolling</li>
          <li>Option to expand or collapse all album grids in the artists list, accessible by right-clicking the artists list selector</li>
          <li>Fixed a bug where the carousel position could shift by 1px after clicking on an album</li>
          <li>Fixed a bug where positive gain values in preamplification and fallback gain settings were not being applied (positive gain now increases loudness and causes clipping distortion as expected)</li>
          <li>Fixed a bug where the slider handles in the settings appeared slightly misaligned from the slider position</li>
          <li>Album grid selection indicators are now 2px larger</li>
          <li>Relative width setting of the columns in the library pane now persists when resizing the window, changing layouts, and restarting the app</li>
        </ul>
      </description>
    </release>

    <release version="2.2.2" date="2025-08-22">
      <description>
        <p>Improved portal path handling, main window visibility option, region-aware search</p>
        <ul>
          <li>Library search is now region-aware, returns accent-insensitive results</li>
          <li>Added the option to keep the main window visible along with the mini player</li>
          <li>Fixed a bug where playlists containing tracks outside of the ~/Music directory didn't work in the Flatpak build of mtoc</li>
          <li>Fixed a bug where slider handles in the settings window were not recieving mouse input, and increased the size of the handles</li>
          <li>Miscellaneous layout and UI bug fixes</li>
        </ul>
      </description>
    </release>

    <release version="2.2.1" date="2025-08-19">
      <description>
        <p>Fix for AAC playback bug, system accent color integration</p>
        <ul>
          <li>Fixed a bug that caused a few seconds of silence between tracks when playing AAC audio</li>
          <li>Use system accent color for list selections</li>
          <li>Artists/Playlists tab selection is maintained when switching layouts</li>
        </ul>
      </description>
    </release>

    <release version="2.2" date="2025-08-18">
      <description>
        <p>Mini player, gapless playback, and ReplayGain support</p>
        <ul>
          <li>New mini player hides the main window and shows basic playback controls in a compact window, with three layout modes to choose from</li>
          <li>Precise gapless playback for supported files, with a continuous audio pipeline, next track preloading, and seamless transitions</li>
          <li>New audio engine features including ReplayGain support for volume normalization on supported tracks and albums, fallback gain setting, and preamplification slider</li>
        </ul>
      </description>
    </release>

    <release version="2.1.1" date="2025-08-09">
      <description>
        <p>Bug fixes for elevated GPU usage and missing close button icon</p>
          <ul>
            <li>Scrolling text now scrolls on hover to prevent high GPU usage from nonstop scrolling animations</li>
            <li>Fixed a bug causing the icon in the close button in the album art popup to be invisible</li>
        </ul>
      </description>
    </release>

    <release version="2.1" date="2025-08-07">
      <description>
        <p>Compact layout mode and light theme</p>
        <ul>
          <li>Compact layout moves the playback controls to below the library, and the queue and full-size album art to their own popups; ideal for use on small screens and tiling setups</li>
          <li>Light theme brings a new white and and pastel-colored interface</li>
          <li>Options in settings for compact &amp; wide layouts, light &amp; dark modes, and automatic switching for both</li>
          <li>Contextual queue header labels the current queue source</li>
          <li>Performance and image quality improvements for the album carousel with better anti-aliasing, and a slightly compacted layout</li>
          <li>Improved sorting consistency for artists with locale-aware handling of accented characters</li>
        </ul>
      </description>
    </release>

    <release version="2.0.2" date="2025-07-31">
      <description>
        <p>Updated icon and improved layout on small displays</p>
        <ul>
          <li>Expanded library pane for better usability at very small window widths</li>
          <li>Updated icon to match the new branding</li>
        </ul>
      </description>
      </release>

    <release version="2.0.1" date="2025-07-29">
      <description>
        <p>Fixed laggy image loading during fast scrolling in the album carousel</p>
        <ul>
          <li>Improved performance in album carousel with delegate recycling and improved connection handling</li>
          <li>Implemented multithreaded asynchronous image response for higher performance thumbnail loading</li>
          <li>Improved thumbnail size efficiency</li>
          <li>Dynamic pixmap cache sizing based on available system memory for improved image loading performance</li>
        </ul>
      </description>
    </release>

    <release version="2.0" date="2025-07-28">
      <description>
        <p>Functional overhaul expanding library management, playback features, and interface</p>
        <ul>
          <li>Support for queue management and context menus for queue actions</li>
          <li>M3U playlist support</li>
          <li>Playlist management with saving and editing playlists</li>
          <li>Shuffle and repeat modes</li>
          <li>All Songs virtual playlist for playback of the entire library</li>
          <li>Track info panel</li>
          <li>State persistence between sessions for queue, playback state, and interface selection</li>
          <li>New animations throughout the interface</li>
        </ul>
      </description>
    </release>
  </releases>

</component>